{
    "collab_server" : "",
    "contents" : "rm(list = ls())\n\npacman::p_load(tidyverse, phyloseq, GO.db, gridExtra, RColorBrewer, sommer)\n\n\nTF_df <- readRDS('TF_names.rds')\npairs_df <- readRDS('TF_co_pairs.rds')\n\n\n##########whitened\nfile_names <- c('PSCV_repeated_trn50_white_type2_idx_pairs.txt', \n                'FSCV_repeated_trn50_white_type2_idx_pairs.txt', \n                'CV_repeated_trn50_white_type2_idx_pairs.txt')\n\npts <- data_frame(file_names = file_names) %>% \n  mutate(pairs = map(file_names, function(inp) {\n    tmp <- read_delim(inp, delim = '\\t') %>% \n      as.matrix()\n    rownames(tmp) <- TF_df$TF\n    colnames(tmp) <- TF_df$TF\n    \n    pairs_df2 <- pairs_df %>%\n      mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n      unite(TF_pair, TF1, TF2, sep = '-')\n  })) %>% \n  mutate(bar_plots = map(pairs, function(x) {x %>% \n      filter(freq != 0) %>%\n      # arrange(freq) %>% \n      ggplot() + \n      geom_col(aes(x = TF_pair, y = freq)) + \n      labs(x = 'Cooperative pair', y = 'Frequency')}))\n# \n# tmp <- read_delim(file_names[1], delim = '\\t') %>% \n#   as.matrix()\n# rownames(tmp) <- TF_df$TF\n# colnames(tmp) <- TF_df$TF\n# \n# pairs_df2 <- pairs_df %>%\n#   mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n#   unite(TF_pair, TF1, TF2, sep = '-')\n# \n# ggplot(pairs_df2 %>% filter(freq != 0)) +\n#   geom_col(aes(x = TF_pair, y = freq))\n\n##########whitened\n\n\n\n##########cent\nfile_names <- c('PSCV_repeated_trn50_std_type2_idx_pairs.txt', \n                'FSCV_repeated_trn50_std_type2_idx_pairs.txt', \n                'CV_repeated_trn50_std_type2_idx_pairs.txt')\n\npts <- data_frame(file_names = file_names) %>% \n  mutate(pairs = map(file_names, function(inp) {\n    tmp <- read_delim(inp, delim = '\\t') %>% \n      as.matrix()\n    rownames(tmp) <- TF_df$TF\n    colnames(tmp) <- TF_df$TF\n    \n    pairs_df2 <- pairs_df %>%\n      mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n      unite(TF_pair, TF1, TF2, sep = '-')\n  })) %>% \n  mutate(bar_plots = map(pairs, function(x) {x %>% \n      filter(freq != 0) %>%\n      # arrange(freq) %>% \n      ggplot() + \n      geom_col(aes(x = TF_pair, y = freq)) + \n      labs(x = 'Cooperative pair', y = 'Frequency')}))\n# \n# tmp <- read_delim(file_names[1], delim = '\\t') %>% \n#   as.matrix()\n# rownames(tmp) <- TF_df$TF\n# colnames(tmp) <- TF_df$TF\n# \n# pairs_df2 <- pairs_df %>%\n#   mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n#   unite(TF_pair, TF1, TF2, sep = '-')\n# \n# ggplot(pairs_df2 %>% filter(freq != 0)) +\n#   geom_col(aes(x = TF_pair, y = freq))\n\n##########std\n\n\n##########std\nfile_names <- c('PSCV_repeated_trn50_cent_type2_idx_pairs.txt', \n                'FSCV_repeated_trn50_cent_type2_idx_pairs.txt', \n                'CV_repeated_trn50_cent_type2_idx_pairs.txt')\n\npts <- data_frame(file_names = file_names) %>% \n  mutate(pairs = map(file_names, function(inp) {\n    tmp <- read_delim(inp, delim = '\\t') %>% \n      as.matrix()\n    rownames(tmp) <- TF_df$TF\n    colnames(tmp) <- TF_df$TF\n    \n    pairs_df2 <- pairs_df %>%\n      mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n      unite(TF_pair, TF1, TF2, sep = '-')\n  })) %>% \n  mutate(bar_plots = map(pairs, function(x) {x %>% \n      filter(freq != 0) %>%\n      # arrange(freq) %>% \n      ggplot() + \n      geom_col(aes(x = TF_pair, y = freq)) + \n      labs(x = 'Cooperative pair', y = 'Frequency')}))\n# \n# tmp <- read_delim(file_names[1], delim = '\\t') %>% \n#   as.matrix()\n# rownames(tmp) <- TF_df$TF\n# colnames(tmp) <- TF_df$TF\n# \n# pairs_df2 <- pairs_df %>%\n#   mutate(freq = map2_int(TF1, TF2, ~ tmp[.x, .y])) %>% \n#   unite(TF_pair, TF1, TF2, sep = '-')\n# \n# ggplot(pairs_df2 %>% filter(freq != 0)) +\n#   geom_col(aes(x = TF_pair, y = freq))\n\n##########cent\n",
    "created" : 1515436414750.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4230241447",
    "id" : "70C225CF",
    "lastKnownWriteTime" : 1515438115,
    "last_content_update" : 1515438115285,
    "path" : "~/Dropbox/Literature-Hoang/Working_papers/cross-validation/Code/applied_data/yeast/pairs_freq.R",
    "project_path" : "pairs_freq.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 7,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}